---
import Layout from '../../layouts/Layout.astro';
import { CollectionType, CollectionLayout } from '@app/shared';
import type { CollectionInfo } from '@app/shared';
import CollectionSection from '../../components/nike/CollectionSection.astro';

// Mock getStaticPaths for existing topics
export async function getStaticPaths() {
  return [
    { params: { slug: 'spring-hero' } },
    { params: { slug: 'lifestyle-footer' } },
  ];
}

const { slug } = Astro.params;

// Mock fetching this specific collection
const collection: CollectionInfo = {
  id: 99,
  code: slug as string,
  type: CollectionType.TOPIC,
  title: slug === 'spring-hero' ? '春季新品系列' : '生活方式精选',
  description: '这是专题详情页的描述文案。',
  coverImage: 'https://images.nike.com.cn/is/image/DotCom/FA24_AF1_ECOM_HP_P1_DSK?wid=1500&hei=1500&fmt=jpg&qlt=85',
  layoutType: CollectionLayout.GRID,
  status: 1,
  sort: 1,
  // @ts-ignore
  products: [
    { id: 1, name: 'Nike Air Force 1 \'07', price: 799, cover: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/b7d9211c-26e7-431a-ac24-b0540fb3c00f/AIR+FORCE+1+%2707.png' },
    { id: 2, name: 'Nike Air Max Pulse Roam', price: 1099, cover: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/070f3f26-e13f-4e44-b816-cb82b993309a/AIR+MAX+PULSE+ROAM.png' },
  ]
};
---

<Layout title={collection.title}>
  <div class="py-10">
    <div class="max-w-[1920px] mx-auto px-4 sm:px-12 mb-10">
        <h1 class="text-4xl font-nike font-black uppercase italic tracking-tighter mb-4">{collection.title}</h1>
        <p class="text-nike-dark-grey max-w-2xl">{collection.description}</p>
    </div>
    <CollectionSection collection={collection} />
  </div>
</Layout>
